{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\identity-managment\\\\components\\\\modals\\\\SearchResults.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Avatar, Text, Button, Loading, Modal, Row, Table } from '@geist-ui/react'; // import { requestPortfolio } from '../../lib/threadDb';\n\nimport Loader from './Loader';\n\nvar SearchResultsModal = function SearchResultsModal(_ref) {\n  _s();\n\n  var userEmail = _ref.userEmail,\n      avatar = _ref.avatar,\n      setSearchResults = _ref.setSearchResults,\n      searchResults = _ref.searchResults,\n      reciverDetails = _ref.reciverDetails,\n      requested = _ref.requested,\n      caller = _ref.caller;\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState({}),\n      loaderData = _useState2[0],\n      setLoaderData = _useState2[1]; // request portfolio\n\n\n  function handelRequest() {\n    return _handelRequest.apply(this, arguments);\n  }\n\n  function _handelRequest() {\n    _handelRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoaderData({\n                heading: 'Requesting Portfolio',\n                content: 'Requesting Portfolio'\n              });\n              setLoading(true);\n              _context.next = 4;\n              return requestPortfolio(caller, reciverDetails);\n\n            case 4:\n              res = _context.sent;\n\n              if (res) {\n                requested.push({\n                  receiverDid: reciverDetails.did,\n                  name: reciverDetails.name\n                });\n              }\n\n              setSearchResults(false);\n              setLoaderData({\n                heading: 'Portfolio Requested successfully',\n                content: 'Portfolio Requested Successfully'\n              });\n              setLoading(false);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _handelRequest.apply(this, arguments);\n  }\n\n  var data = [{\n    email: userEmail,\n    actions: __jsx(Button, {\n      auto: true,\n      type: \"success\",\n      size: \"mini\",\n      onClick: handelRequest,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, \"Request\")\n  }];\n  return __jsx(React.Fragment, null, __jsx(Loader, {\n    loading: loading,\n    heading: loaderData.heading,\n    content: loaderData.content,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), __jsx(Modal, {\n    open: searchResults,\n    disableBackdropClick: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, __jsx(Modal.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"Search Results\"), __jsx(Modal.Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, __jsx(Table, {\n    data: data,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, __jsx(Table.Column, {\n    prop: \"email\",\n    label: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), __jsx(Table.Column, {\n    prop: \"actions\",\n    label: \"Actions\",\n    width: 150,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }))), __jsx(Modal.Action, {\n    passive: true,\n    onClick: function onClick() {\n      return setSearchResults(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Close\")));\n};\n\n_s(SearchResultsModal, \"7QpzsirO70Mhbn+MSdfF6JmIoaU=\");\n\n_c = SearchResultsModal;\nexport default SearchResultsModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResultsModal\");","map":{"version":3,"sources":["D:/identity-managment/components/modals/SearchResults.js"],"names":["React","useState","Avatar","Text","Button","Loading","Modal","Row","Table","Loader","SearchResultsModal","userEmail","avatar","setSearchResults","searchResults","reciverDetails","requested","caller","loading","setLoading","loaderData","setLoaderData","handelRequest","heading","content","requestPortfolio","res","push","receiverDid","did","name","data","email","actions"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Avatar,\r\n  Text,\r\n  Button,\r\n  Loading,\r\n  Modal,\r\n  Row,\r\n  Table,\r\n} from '@geist-ui/react';\r\n// import { requestPortfolio } from '../../lib/threadDb';\r\nimport Loader from './Loader';\r\n\r\nconst SearchResultsModal = ({\r\n  userEmail,\r\n  avatar,\r\n  setSearchResults,\r\n  searchResults,\r\n  reciverDetails,\r\n  requested,\r\n  caller,\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [loaderData, setLoaderData] = useState({});\r\n\r\n  // request portfolio\r\n\r\n  async function handelRequest() {\r\n    setLoaderData({\r\n      heading: 'Requesting Portfolio',\r\n      content: 'Requesting Portfolio',\r\n    });\r\n    setLoading(true);\r\n    const res = await requestPortfolio(caller, reciverDetails);\r\n    if (res) {\r\n      requested.push({\r\n        receiverDid: reciverDetails.did,\r\n        name: reciverDetails.name,\r\n      });\r\n    }\r\n    setSearchResults(false);\r\n    setLoaderData({\r\n      heading: 'Portfolio Requested successfully',\r\n      content: 'Portfolio Requested Successfully',\r\n    });\r\n    setLoading(false);\r\n  }\r\n\r\n  const data = [\r\n    {\r\n      email: userEmail,\r\n      actions: (\r\n        <Button auto type='success' size='mini' onClick={handelRequest}>\r\n          Request\r\n        </Button>\r\n      ),\r\n    },\r\n  ];\r\n  return (\r\n    <>\r\n      <Loader\r\n        loading={loading}\r\n        heading={loaderData.heading}\r\n        content={loaderData.content}\r\n      />\r\n      <Modal open={searchResults} disableBackdropClick={true}>\r\n        <Modal.Title>Search Results</Modal.Title>\r\n\r\n        <Modal.Content>\r\n          <Table data={data}>\r\n            <Table.Column prop='email' label='email' />\r\n\r\n            <Table.Column prop='actions' label='Actions' width={150} />\r\n          </Table>\r\n        </Modal.Content>\r\n        <Modal.Action passive onClick={() => setSearchResults(false)}>\r\n          Close\r\n        </Modal.Action>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchResultsModal;\r\n"]},"metadata":{},"sourceType":"module"}